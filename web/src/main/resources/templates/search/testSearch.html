<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8"/>
		<meta name="_csrf" th:content="${_csrf.token}" />
		<meta name="_csrf_header" th:content="${_csrf.headerName}" />
		<title>Insert title here</title>
		<script type="text/javascript" th:src="@{/js/jquery-min.js}"></script>
		<script>
            $(function() {
                $('input[type="radio"]').click(function() {
                    $('form').submit();
                });

                $(':checked').each(function(n, target) {
                    var source = $(target);
                    var template = $('<li/>');
                    template.text(source.attr('data-label') + "：");
                    template.append('<span>' + source.siblings('label').text() + '</span>');
                    template.append('<i data-target="' + source.attr('id') + '">×</i>');
                    $('div.search-choose ul').append(template);
                });

                $('ul i').click(function(event) {
                    var source = $(event.target);
                    $('#' + source.attr('data-target')).prop('checked', false);
                    $('form').submit();
                });
            });
		</script>
	</head>
	<body>
		<div class="search-choose">
			<ul></ul>
		</div>
		<form th:object="${option}">
			<ul>
				<li>
					<input type="text" th:field="*{title}"/>
				</li>
			</ul>
			<ul>
				<li th:each="brand:${brands}">
					<label th:text="${brand.name}"></label>
					<input type="radio" th:field="*{brand}" th:value="${brand.name}"/>
				</li>
			</ul>
			<ul>
				<li>
					<label>1-3</label>
					<input type="radio" th:field="*{priceRange}" th:value="1"/>
				</li>
				<li>
					<label>3-5</label>
					<input type="radio" th:field="*{priceRange}" th:value="2"/>
				</li>
				<li>
					<label>5-7</label>
					<input type="radio" th:field="*{priceRange}" th:value="3"/>
				</li>
			</ul>
			<ul>
				<li>
					<label>国内</label>
					<input type="radio" th:field="*{original}" th:value="1"/>
				</li>
				<li>
					<label>国外</label>
					<input type="radio" th:field="*{original}" th:value="0"/>
				</li>
			</ul>
		</form>
		<div>
			<div th:each="product:${products}">
				<span th:text="${product.title}"></span>
				<span th:text="${product.id}"></span>
			</div>
		</div>
	</body>
</html>